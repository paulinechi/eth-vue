{"remainingRequest":"/home/ubuntu/eth-vue/node_modules/thread-loader/dist/cjs.js!/home/ubuntu/eth-vue/node_modules/babel-loader/lib/index.js!/home/ubuntu/eth-vue/src/util/DOMManipulator.js","dependencies":[{"path":"/home/ubuntu/eth-vue/src/util/DOMManipulator.js","mtime":1640695749879},{"path":"/home/ubuntu/eth-vue/babel.config.js","mtime":1640695749839},{"path":"/home/ubuntu/eth-vue/node_modules/cache-loader/dist/cjs.js","mtime":1640501305467},{"path":"/home/ubuntu/eth-vue/node_modules/thread-loader/dist/cjs.js","mtime":1640501305479},{"path":"/home/ubuntu/eth-vue/node_modules/babel-loader/lib/index.js","mtime":1640788501629}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGdyYXZhdGFyIGZyb20gImdyYXZhdGFyLWFwaSI7CgpmdW5jdGlvbiBnZXRHcmF2YXRhckltYWdlKCkgewogIHZhciBlbWFpbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIiI7CiAgdmFyIGdyYXZhdGFyT3B0aW9ucyA9IHsKICAgIGVtYWlsOiBlbWFpbCwKICAgIHBhcmFtZXRlcnM6IHsKICAgICAgc2l6ZTogIjEwNCIsCiAgICAgIGQ6ICJtbSIKICAgIH0sCiAgICBzZWN1cmU6IHRydWUKICB9OwogIHZhciBhdmF0YXIgPSBlbWFpbCAmJiBlbWFpbC50cmltKCkgIT09ICIiID8gZ3JhdmF0YXIuaW1hZ2VVcmwoZ3JhdmF0YXJPcHRpb25zKSA6IG51bGw7CiAgcmV0dXJuIGF2YXRhcjsKfQoKZXhwb3J0IHZhciBhdmF0YXJDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24gYXZhdGFyQ2FudmFzRWxlbWVudChlbWFpbCkgewogIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgdmFyIGdyYXZhdGFyID0gZ2V0R3JhdmF0YXJJbWFnZShlbWFpbCk7CiAgICBpbWFnZS5zcmMgPSBncmF2YXRhcjsKICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhdmF0YXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgdmFyIGF2YXRhckNvbnRleHQgPSBhdmF0YXJDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgYXZhdGFyQ2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0OwogICAgICBhdmF0YXJDYW52YXMud2lkdGggPSB0aGlzLndpZHRoOwogICAgICBhdmF0YXJDb250ZXh0LmRyYXdJbWFnZSh0aGlzLCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7CiAgICAgIHJlc29sdmUoYXZhdGFyQ2FudmFzLCBncmF2YXRhcik7CiAgICB9KTsKICB9KTsKfTs="},{"version":3,"sources":["/home/ubuntu/eth-vue/src/util/DOMManipulator.js"],"names":["gravatar","getGravatarImage","email","gravatarOptions","parameters","size","d","secure","avatar","trim","imageUrl","avatarCanvasElement","Promise","resolve","reject","image","Image","src","addEventListener","avatarCanvas","document","createElement","avatarContext","getContext","height","width","drawImage"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;;AAEA,SAASC,gBAAT,GAAsC;AAAA,MAAZC,KAAY,uEAAJ,EAAI;AACpC,MAAMC,eAAe,GAAG;AACtBD,IAAAA,KAAK,EAAEA,KADe;AAEtBE,IAAAA,UAAU,EAAE;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,CAAC,EAAE;AAAlB,KAFU;AAGtBC,IAAAA,MAAM,EAAE;AAHc,GAAxB;AAMA,MAAMC,MAAM,GACVN,KAAK,IAAIA,KAAK,CAACO,IAAN,OAAiB,EAA1B,GAA+BT,QAAQ,CAACU,QAAT,CAAkBP,eAAlB,CAA/B,GAAoE,IADtE;AAEA,SAAOK,MAAP;AACD;;AAED,OAAO,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAST,KAAT,EAAgB;AACjD;AACA,SAAO,IAAIU,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,QAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;AACA,QAAMhB,QAAQ,GAAGC,gBAAgB,CAACC,KAAD,CAAjC;AACAa,IAAAA,KAAK,CAACE,GAAN,GAAYjB,QAAZ;AACAe,IAAAA,KAAK,CAACG,gBAAN,CAAuB,MAAvB,EAA+B,YAAW;AACxC,UAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAArB;AACA,UAAMC,aAAa,GAAGH,YAAY,CAACI,UAAb,CAAwB,IAAxB,CAAtB;AACAJ,MAAAA,YAAY,CAACK,MAAb,GAAsB,KAAKA,MAA3B;AACAL,MAAAA,YAAY,CAACM,KAAb,GAAqB,KAAKA,KAA1B;AACAH,MAAAA,aAAa,CAACI,SAAd,CAAwB,IAAxB,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,KAAKD,KAAzC,EAAgD,KAAKD,MAArD;AACAX,MAAAA,OAAO,CAACM,YAAD,EAAenB,QAAf,CAAP;AACD,KAPD;AAQD,GAZM,CAAP;AAaD,CAfM","sourcesContent":["import gravatar from \"gravatar-api\";\n\nfunction getGravatarImage(email = \"\") {\n  const gravatarOptions = {\n    email: email,\n    parameters: { size: \"104\", d: \"mm\" },\n    secure: true\n  };\n\n  const avatar =\n    email && email.trim() !== \"\" ? gravatar.imageUrl(gravatarOptions) : null;\n  return avatar;\n}\n\nexport const avatarCanvasElement = function(email) {\n  /* eslint-disable no-unused-vars */\n  return new Promise(function(resolve, reject) {\n    const image = new Image();\n    const gravatar = getGravatarImage(email);\n    image.src = gravatar;\n    image.addEventListener(\"load\", function() {\n      const avatarCanvas = document.createElement(\"canvas\");\n      const avatarContext = avatarCanvas.getContext(\"2d\");\n      avatarCanvas.height = this.height;\n      avatarCanvas.width = this.width;\n      avatarContext.drawImage(this, 0, 0, this.width, this.height);\n      resolve(avatarCanvas, gravatar);\n    });\n  });\n};\n"]}]}